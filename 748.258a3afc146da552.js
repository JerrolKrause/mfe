"use strict";(self.webpackChunkapp_shell=self.webpackChunkapp_shell||[]).push([[748],{9997:($t,vt,R)=>{R.d(vt,{D:()=>Yt});var v=R(1635),z=R(807),J=R(7773),Y=R(9860),G=R(6108),X=R(2151),nt=R(9055),ft=R(8782),ut=function(){function n(){this.assumeImmutableResults=!1,this.getFragmentDoc=(0,J.LV)(G.ct,{max:X.v["cache.fragmentQueryDocuments"]||1e3,cache:nt.l})}return n.prototype.batch=function(t){var i,e=this;return this.performTransaction(function(){return i=t.update(e)},"string"==typeof t.optimistic?t.optimistic:!1===t.optimistic?null:void 0),i},n.prototype.recordOptimisticTransaction=function(t,e){this.performTransaction(t,e)},n.prototype.transformDocument=function(t){return t},n.prototype.transformForLink=function(t){return t},n.prototype.identify=function(t){},n.prototype.gc=function(){return[]},n.prototype.modify=function(t){return!1},n.prototype.readQuery=function(t,e){return void 0===e&&(e=!!t.optimistic),this.read((0,v.Cl)((0,v.Cl)({},t),{rootId:t.id||"ROOT_QUERY",optimistic:e}))},n.prototype.readFragment=function(t,e){return void 0===e&&(e=!!t.optimistic),this.read((0,v.Cl)((0,v.Cl)({},t),{query:this.getFragmentDoc(t.fragment,t.fragmentName),rootId:t.id,optimistic:e}))},n.prototype.writeQuery=function(t){var e=t.id,r=t.data,i=(0,v.Tt)(t,["id","data"]);return this.write(Object.assign(i,{dataId:e||"ROOT_QUERY",result:r}))},n.prototype.writeFragment=function(t){var e=t.id,r=t.data,i=t.fragment,a=t.fragmentName,s=(0,v.Tt)(t,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(i,a),dataId:e,result:r}))},n.prototype.updateQuery=function(t,e){return this.batch({update:function(r){var i=r.readQuery(t),a=e(i);return null==a?i:(r.writeQuery((0,v.Cl)((0,v.Cl)({},t),{data:a})),a)}})},n.prototype.updateFragment=function(t,e){return this.batch({update:function(r){var i=r.readFragment(t),a=e(i);return null==a?i:(r.writeFragment((0,v.Cl)((0,v.Cl)({},t),{data:a})),a)}})},n}();!1!==globalThis.__DEV__&&(ut.prototype.getMemoryInternals=ft.tQ);var at=function(n){function t(e,r,i,a){var s,o=n.call(this,e)||this;if(o.message=e,o.path=r,o.query=i,o.variables=a,Array.isArray(o.path)){o.missing=o.message;for(var c=o.path.length-1;c>=0;--c)o.missing=((s={})[o.path[c]]=o.missing,s)}else o.missing=o.path;return o.__proto__=t.prototype,o}return(0,v.C6)(t,n),t}(Error),lt=R(8926),Q=R(1601),$=R(2130),mt=R(1658),g=R(1367),et=R(1955),rt=R(6500),gt=R(120),b=R(4229),d=R(1115),h=R(4183),p=R(1181);function E(n){return!1!==globalThis.__DEV__&&function D(n){var t=new Set([n]);return t.forEach(function(e){(0,p.U)(e)&&function M(n){if(!1!==globalThis.__DEV__&&!Object.isFrozen(n))try{Object.freeze(n)}catch(t){if(t instanceof TypeError)return null;throw t}return n}(e)===e&&Object.getOwnPropertyNames(e).forEach(function(r){(0,p.U)(e[r])&&t.add(e[r])})}),n}(n),n}var x=R(2039),O=R(7715),C=Object.prototype.hasOwnProperty;function B(n){return null==n}function F(n,t){var e=n.__typename,r=n.id,i=n._id;if("string"==typeof e&&(t&&(t.keyObject=B(r)?B(i)?void 0:{_id:i}:{id:r}),B(r)&&!B(i)&&(r=i),!B(r)))return"".concat(e,":").concat("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))}var A={dataIdFromObject:F,addTypename:!0,resultCaching:!0,canonizeResults:!1};function V(n){var t=n.canonizeResults;return void 0===t?A.canonizeResults:t}var ht=/^[_a-z][_0-9a-z]*/i;function N(n){var t=n.match(ht);return t?t[0]:n}function K(n,t,e){return!!(0,p.U)(t)&&((0,O.c)(t)?t.every(function(r){return K(n,r,e)}):n.selections.every(function(r){if((0,g.dt)(r)&&(0,h.MS)(r,e)){var i=(0,g.ue)(r);return C.call(t,i)&&(!r.selectionSet||K(r.selectionSet,t[i],e))}return!0}))}function q(n){return(0,p.U)(n)&&!(0,g.A_)(n)&&!(0,O.c)(n)}function wt(n,t){var e=(0,G.JG)((0,b.zK)(n));return{fragmentMap:e,lookupFragment:function(r){var i=e[r];return!i&&t&&(i=t.lookup(r)),i||null}}}var n,t,pt=Object.create(null),bt=function(){return pt},Ft=Object.create(null),st=function(){function n(t,e){var r=this;this.policies=t,this.group=e,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,a){return E((0,g.A_)(i)?r.get(i.__ref,a):i&&i[a])},this.canRead=function(i){return(0,g.A_)(i)?r.has(i.__ref):"object"==typeof i},this.toReference=function(i,a){if("string"==typeof i)return(0,g.WU)(i);if((0,g.A_)(i))return i;var s=r.policies.identify(i)[0];if(s){var o=(0,g.WU)(s);return a&&r.merge(s,i),o}}}return n.prototype.toObject=function(){return(0,v.Cl)({},this.data)},n.prototype.has=function(t){return void 0!==this.lookup(t,!0)},n.prototype.get=function(t,e){if(this.group.depend(t,e),C.call(this.data,t)){var r=this.data[t];if(r&&C.call(r,e))return r[e]}return"__typename"===e&&C.call(this.policies.rootTypenamesById,t)?this.policies.rootTypenamesById[t]:this instanceof tt?this.parent.get(t,e):void 0},n.prototype.lookup=function(t,e){return e&&this.group.depend(t,"__exists"),C.call(this.data,t)?this.data[t]:this instanceof tt?this.parent.lookup(t,e):this.policies.rootTypenamesById[t]?Object.create(null):void 0},n.prototype.merge=function(t,e){var i,r=this;(0,g.A_)(t)&&(t=t.__ref),(0,g.A_)(e)&&(e=e.__ref);var a="string"==typeof t?this.lookup(i=t):t,s="string"==typeof e?this.lookup(i=e):e;if(s){(0,z.V1)("string"==typeof i,1);var o=new d.ZI(ee).merge(a,s);if(this.data[i]=o,o!==a&&(delete this.refs[i],this.group.caching)){var c=Object.create(null);a||(c.__exists=1),Object.keys(s).forEach(function(f){if(!a||a[f]!==o[f]){c[f]=1;var u=N(f);u!==f&&!r.policies.hasKeyArgs(o.__typename,u)&&(c[u]=1),void 0===o[f]&&!(r instanceof tt)&&delete o[f]}}),c.__typename&&!(a&&a.__typename)&&this.policies.rootTypenamesById[i]===o.__typename&&delete c.__typename,Object.keys(c).forEach(function(f){return r.group.dirty(i,f)})}}},n.prototype.modify=function(t,e){var r=this,i=this.lookup(t);if(i){var a=Object.create(null),s=!1,o=!0,c={DELETE:pt,INVALIDATE:Ft,isReference:g.A_,toReference:this.toReference,canRead:this.canRead,readField:function(f,u){return r.policies.readField("string"==typeof f?{fieldName:f,from:u||(0,g.WU)(t)}:f,{store:r})}};if(Object.keys(i).forEach(function(f){var u=N(f),y=i[f];if(void 0!==y){var l="function"==typeof e?e:e[f]||e[u];if(l){var m=l===bt?pt:l(E(y),(0,v.Cl)((0,v.Cl)({},c),{fieldName:u,storeFieldName:f,storage:r.getStorage(t,f)}));if(m===Ft)r.group.dirty(t,f);else if(m===pt&&(m=void 0),m!==y&&(a[f]=m,s=!0,y=m,!1!==globalThis.__DEV__)){var T=function(_){if(void 0===r.lookup(_.__ref))return!1!==globalThis.__DEV__&&z.V1.warn(2,_),!0};if((0,g.A_)(m))T(m);else if(Array.isArray(m))for(var w=!1,j=void 0,W=0,I=m;W<I.length;W++){var S=I[W];if((0,g.A_)(S)){if(w=!0,T(S))break}else"object"==typeof S&&S&&r.policies.identify(S)[0]&&(j=S);if(w&&void 0!==j){!1!==globalThis.__DEV__&&z.V1.warn(3,j);break}}}}void 0!==y&&(o=!1)}}),s)return this.merge(t,a),o&&(this instanceof tt?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1},n.prototype.delete=function(t,e,r){var i,a=this.lookup(t);if(a){var s=this.getFieldValue(a,"__typename"),o=e&&r?this.policies.getStoreFieldName({typename:s,fieldName:e,args:r}):e;return this.modify(t,o?((i={})[o]=bt,i):bt)}return!1},n.prototype.evict=function(t,e){var r=!1;return t.id&&(C.call(this.data,t.id)&&(r=this.delete(t.id,t.fieldName,t.args)),this instanceof tt&&this!==e&&(r=this.parent.evict(t,e)||r),(t.fieldName||r)&&this.group.dirty(t.id,t.fieldName||"__exists")),r},n.prototype.clear=function(){this.replace(null)},n.prototype.extract=function(){var t=this,e=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){C.call(t.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(e.__META={extraRootIds:r.sort()}),e},n.prototype.replace=function(t){var e=this;if(Object.keys(this.data).forEach(function(a){t&&C.call(t,a)||e.delete(a)}),t){var r=t.__META,i=(0,v.Tt)(t,["__META"]);Object.keys(i).forEach(function(a){e.merge(a,i[a])}),r&&r.extraRootIds.forEach(this.retain,this)}},n.prototype.retain=function(t){return this.rootIds[t]=(this.rootIds[t]||0)+1},n.prototype.release=function(t){if(this.rootIds[t]>0){var e=--this.rootIds[t];return e||delete this.rootIds[t],e}return 0},n.prototype.getRootIdSet=function(t){return void 0===t&&(t=new Set),Object.keys(this.rootIds).forEach(t.add,t),this instanceof tt?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t},n.prototype.gc=function(){var t=this,e=this.getRootIdSet(),r=this.toObject();e.forEach(function(s){C.call(r,s)&&(Object.keys(t.findChildRefIds(s)).forEach(e.add,e),delete r[s])});var i=Object.keys(r);if(i.length){for(var a=this;a instanceof tt;)a=a.parent;i.forEach(function(s){return a.delete(s)})}return i},n.prototype.findChildRefIds=function(t){if(!C.call(this.refs,t)){var e=this.refs[t]=Object.create(null),r=this.data[t];if(!r)return e;var i=new Set([r]);i.forEach(function(a){(0,g.A_)(a)&&(e[a.__ref]=!0),(0,p.U)(a)&&Object.keys(a).forEach(function(s){var o=a[s];(0,p.U)(o)&&i.add(o)})})}return this.refs[t]},n.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},n}(),Dt=function(){function n(t,e){void 0===e&&(e=null),this.caching=t,this.parent=e,this.d=null,this.resetCaching()}return n.prototype.resetCaching=function(){this.d=this.caching?(0,J.yN)():null,this.keyMaker=new x.b(rt.et)},n.prototype.depend=function(t,e){if(this.d){this.d(Ct(t,e));var r=N(e);r!==e&&this.d(Ct(t,r)),this.parent&&this.parent.depend(t,e)}},n.prototype.dirty=function(t,e){this.d&&this.d.dirty(Ct(t,e),"__exists"===e?"forget":"setDirty")},n}();function Ct(n,t){return t+"#"+n}function jt(n,t){ot(n)&&n.group.depend(t,"__exists")}t=function(e){function r(i){var s=i.resultCaching,c=i.seed,f=e.call(this,i.policies,new Dt(void 0===s||s))||this;return f.stump=new te(f),f.storageTrie=new x.b(rt.et),c&&f.replace(c),f}return(0,v.C6)(r,e),r.prototype.addLayer=function(i,a){return this.stump.addLayer(i,a)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(n=st||(st={})),n.Root=t;var tt=function(n){function t(e,r,i,a){var s=n.call(this,r.policies,a)||this;return s.id=e,s.parent=r,s.replay=i,s.group=a,i(s),s}return(0,v.C6)(t,n),t.prototype.addLayer=function(e,r){return new t(e,this,r,this.group)},t.prototype.removeLayer=function(e){var r=this,i=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(a){var s=r.data[a],o=i.lookup(a);o?s?s!==o&&Object.keys(s).forEach(function(c){(0,Y.L)(s[c],o[c])||r.group.dirty(a,c)}):(r.group.dirty(a,"__exists"),Object.keys(o).forEach(function(c){r.group.dirty(a,c)})):r.delete(a)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,v.Cl)((0,v.Cl)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(e){var r=this.parent.findChildRefIds(e);return C.call(this.data,e)?(0,v.Cl)((0,v.Cl)({},r),n.prototype.findChildRefIds.call(this,e)):r},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(st),te=function(n){function t(e){return n.call(this,"EntityStore.Stump",e,function(){},new Dt(e.group.caching,e.group))||this}return(0,v.C6)(t,n),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(e,r){return this.parent.merge(e,r)},t}(tt);function ee(n,t,e){var r=n[e],i=t[e];return(0,Y.L)(r,i)?r:i}function ot(n){return!!(n instanceof st&&n.group.caching)}var kt=function(){function n(){this.known=new(rt.En?WeakSet:Set),this.pool=new x.b(rt.et),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return n.prototype.isKnown=function(t){return(0,p.U)(t)&&this.known.has(t)},n.prototype.pass=function(t){if((0,p.U)(t)){var e=function re(n){return(0,p.U)(n)?(0,O.c)(n)?n.slice(0):(0,v.Cl)({__proto__:Object.getPrototypeOf(n)},n):n}(t);return this.passes.set(e,t),e}return t},n.prototype.admit=function(t){var e=this;if((0,p.U)(t)){var r=this.passes.get(t);if(r)return r;switch(Object.getPrototypeOf(t)){case Array.prototype:if(this.known.has(t))return t;var a=t.map(this.admit,this);return(s=this.pool.lookupArray(a)).array||(this.known.add(s.array=a),!1!==globalThis.__DEV__&&Object.freeze(a)),s.array;case null:case Object.prototype:if(this.known.has(t))return t;var o=Object.getPrototypeOf(t),c=[o],f=this.sortedKeys(t);c.push(f.json);var s,u=c.length;if(f.sorted.forEach(function(m){c.push(e.admit(t[m]))}),!(s=this.pool.lookupArray(c)).object){var y=s.object=Object.create(o);this.known.add(y),f.sorted.forEach(function(m,T){y[m]=c[u+T]}),!1!==globalThis.__DEV__&&Object.freeze(y)}return s.object}}return t},n.prototype.sortedKeys=function(t){var e=Object.keys(t),r=this.pool.lookupArray(e);if(!r.keys){e.sort();var i=JSON.stringify(e);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:e,json:i})}return r.keys},n}();function At(n){return[n.selectionSet,n.objectOrReference,n.context,n.context.canonizeResults]}var ie=function(){function n(t){var e=this;this.knownResults=new(rt.et?WeakMap:Map),this.config=(0,gt.o)(t,{addTypename:!1!==t.addTypename,canonizeResults:V(t)}),this.canon=t.canon||new kt,this.executeSelectionSet=(0,J.LV)(function(r){var i,a=r.context.canonizeResults,s=At(r);s[3]=!a;var o=(i=e.executeSelectionSet).peek.apply(i,s);return o?a?(0,v.Cl)((0,v.Cl)({},o),{result:e.canon.admit(o.result)}):o:(jt(r.context.store,r.enclosingRef.__ref),e.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize||X.v["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:At,makeCacheKey:function(r,i,a,s){if(ot(a.store))return a.store.makeCacheKey(r,(0,g.A_)(i)?i.__ref:i,a.varString,s)}}),this.executeSubSelectedArray=(0,J.LV)(function(r){return jt(r.context.store,r.enclosingRef.__ref),e.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize||X.v["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(r){var i=r.field,a=r.array,s=r.context;if(ot(s.store))return s.store.makeCacheKey(i,a,s.varString)}})}return n.prototype.resetCanon=function(){this.canon=new kt},n.prototype.diffQueryAgainstStore=function(t){var e=t.store,r=t.query,i=t.rootId,a=void 0===i?"ROOT_QUERY":i,s=t.variables,o=t.returnPartialData,c=void 0===o||o,f=t.canonizeResults,u=void 0===f?this.config.canonizeResults:f,y=this.config.cache.policies;s=(0,v.Cl)((0,v.Cl)({},(0,b.wY)((0,b.AT)(r))),s);var T,l=(0,g.WU)(a),m=this.executeSelectionSet({selectionSet:(0,b.Vn)(r).selectionSet,objectOrReference:l,enclosingRef:l,context:(0,v.Cl)({store:e,query:r,policies:y,variables:s,varString:(0,$.M)(s),canonizeResults:u},wt(r,this.config.fragments))});if(m.missing&&(T=[new at(ne(m.missing),m.missing,r,s)],!c))throw T[0];return{result:m.result,complete:!T,missing:T}},n.prototype.isFresh=function(t,e,r,i){if(ot(i.store)&&this.knownResults.get(t)===r){var a=this.executeSelectionSet.peek(r,e,i,this.canon.isKnown(t));if(a&&t===a.result)return!0}return!1},n.prototype.execSelectionSetImpl=function(t){var e=this,r=t.selectionSet,i=t.objectOrReference,a=t.enclosingRef,s=t.context;if((0,g.A_)(i)&&!s.policies.rootTypenamesById[i.__ref]&&!s.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var l,o=s.variables,c=s.policies,u=s.store.getFieldValue(i,"__typename"),y=[],m=new d.ZI;function T(S,k){var _;return S.missing&&(l=m.merge(l,((_={})[k]=S.missing,_))),S.result}this.config.addTypename&&"string"==typeof u&&!c.rootIdsByTypename[u]&&y.push({__typename:u});var w=new Set(r.selections);w.forEach(function(S){var k,_;if((0,h.MS)(S,o))if((0,g.dt)(S)){var U=c.readField({fieldName:S.name.value,field:S,variables:s.variables,from:i},s),L=(0,g.ue)(S);void 0===U?Q.XY.added(S)||(l=m.merge(l,((k={})[L]="Can't find field '".concat(S.name.value,"' on ").concat((0,g.A_)(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),k))):(0,O.c)(U)?U=T(e.executeSubSelectedArray({field:S,array:U,enclosingRef:a,context:s}),L):S.selectionSet?null!=U&&(U=T(e.executeSelectionSet({selectionSet:S.selectionSet,objectOrReference:U,enclosingRef:(0,g.A_)(U)?U:a,context:s}),L)):s.canonizeResults&&(U=e.canon.pass(U)),void 0!==U&&y.push(((_={})[L]=U,_))}else{var H=(0,G.HQ)(S,s.lookupFragment);if(!H&&S.kind===et.b.FRAGMENT_SPREAD)throw(0,z.vA)(9,S.name.value);H&&c.fragmentMatches(H,u)&&H.selectionSet.selections.forEach(w.add,w)}});var W={result:(0,d.IM)(y),missing:l},I=s.canonizeResults?this.canon.admit(W):E(W);return I.result&&this.knownResults.set(I.result,r),I},n.prototype.execSubSelectedArrayImpl=function(t){var o,e=this,r=t.field,i=t.array,a=t.enclosingRef,s=t.context,c=new d.ZI;function f(u,y){var l;return u.missing&&(o=c.merge(o,((l={})[y]=u.missing,l))),u.result}return r.selectionSet&&(i=i.filter(s.store.canRead)),i=i.map(function(u,y){return null===u?null:(0,O.c)(u)?f(e.executeSubSelectedArray({field:r,array:u,enclosingRef:a,context:s}),y):r.selectionSet?f(e.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:u,enclosingRef:(0,g.A_)(u)?u:a,context:s}),y):(!1!==globalThis.__DEV__&&function ae(n,t,e){if(!t.selectionSet){var r=new Set([e]);r.forEach(function(i){(0,p.U)(i)&&((0,z.V1)(!(0,g.A_)(i),10,function Z(n,t){return(0,g.A_)(t)?n.get(t.__ref,"__typename"):t&&t.__typename}(n,i),t.name.value),Object.values(i).forEach(r.add,r))})}}(s.store,r,u),u)}),{result:s.canonizeResults?this.canon.admit(i):i,missing:o}},n}();function ne(n){try{JSON.stringify(n,function(t,e){if("string"==typeof e)throw e;return e})}catch(t){return t}}var se=R(4246),oe=R(1687),ct=R(4141),Bt=Object.create(null);function St(n){var t=JSON.stringify(n);return Bt[t]||(Bt[t]=Object.create(null))}function xt(n){var t=St(n);return t.keyFieldsFn||(t.keyFieldsFn=function(e,r){var i=function(s,o){return r.readField(o,s)},a=r.keyObject=Ot(n,function(s){var o=it(r.storeObject,s,i);return void 0===o&&e!==r.storeObject&&C.call(e,s[0])&&(o=it(e,s,_t)),(0,z.V1)(void 0!==o,4,s.join("."),e),o});return"".concat(r.typename,":").concat(JSON.stringify(a))})}function zt(n){var t=St(n);return t.keyArgsFn||(t.keyArgsFn=function(e,r){var i=r.field,a=r.variables,s=r.fieldName,o=Ot(n,function(f){var u=f[0],y=u.charAt(0);if("@"!==y)if("$"!==y){if(e)return it(e,f)}else{var w=u.slice(1);if(a&&C.call(a,w)){var j=f.slice(0);return j[0]=w,it(a,j)}}else if(i&&(0,O.E)(i.directives)){var l=u.slice(1),m=i.directives.find(function(W){return W.name.value===l}),T=m&&(0,g.MB)(m,a);return T&&it(T,f.slice(1))}}),c=JSON.stringify(o);return(e||"{}"!==c)&&(s+=":"+c),s})}function Ot(n,t){var e=new d.ZI;return It(n).reduce(function(r,i){var a,s=t(i);if(void 0!==s){for(var o=i.length-1;o>=0;--o)(a={})[i[o]]=s,s=a;r=e.merge(r,s)}return r},Object.create(null))}function It(n){var t=St(n);if(!t.paths){var e=t.paths=[],r=[];n.forEach(function(i,a){(0,O.c)(i)?(It(i).forEach(function(s){return e.push(r.concat(s))}),r.length=0):(r.push(i),(0,O.c)(n[a+1])||(e.push(r.slice(0)),r.length=0))})}return t.paths}function _t(n,t){return n[t]}function it(n,t,e){return e=e||_t,Pt(t.reduce(function r(i,a){return(0,O.c)(i)?i.map(function(s){return r(s,a)}):i&&e(i,a)},n))}function Pt(n){return(0,p.U)(n)?(0,O.c)(n)?n.map(Pt):Ot(Object.keys(n).sort(),function(t){return it(n,t)}):n}function Tt(n){return void 0!==n.args?n.args:n.field?(0,g.MB)(n.field,n.variables):null}var ce=function(){},Lt=function(n,t){return t.fieldName},Ut=function(n,t,e){return(0,e.mergeObjects)(n,t)},Vt=function(n,t){return t},fe=function(){function n(t){this.config=t,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,v.Cl)({dataIdFromObject:F},t),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}return n.prototype.identify=function(t,e){var r,i=this,a=e&&(e.typename||(null===(r=e.storeObject)||void 0===r?void 0:r.__typename))||t.__typename;if(a===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var c,s=e&&e.storeObject||t,o=(0,v.Cl)((0,v.Cl)({},e),{typename:a,storeObject:s,readField:e&&e.readField||function(){var l=Et(arguments,s);return i.readField(l,{store:i.cache.data,variables:l.variables})}}),f=a&&this.getTypePolicy(a),u=f&&f.keyFn||this.config.dataIdFromObject;u;){var y=u((0,v.Cl)((0,v.Cl)({},t),s),o);if(!(0,O.c)(y)){c=y;break}u=xt(y)}return c=c?String(c):void 0,o.keyObject?[c,o.keyObject]:[c]},n.prototype.addTypePolicies=function(t){var e=this;Object.keys(t).forEach(function(r){var i=t[r],a=i.queryType,s=i.mutationType,o=i.subscriptionType,c=(0,v.Tt)(i,["queryType","mutationType","subscriptionType"]);a&&e.setRootTypename("Query",r),s&&e.setRootTypename("Mutation",r),o&&e.setRootTypename("Subscription",r),C.call(e.toBeAdded,r)?e.toBeAdded[r].push(c):e.toBeAdded[r]=[c]})},n.prototype.updateTypePolicy=function(t,e){var r=this,i=this.getTypePolicy(t),a=e.keyFields,s=e.fields;function o(c,f){c.merge="function"==typeof f?f:!0===f?Ut:!1===f?Vt:c.merge}o(i,e.merge),i.keyFn=!1===a?ce:(0,O.c)(a)?xt(a):"function"==typeof a?a:i.keyFn,s&&Object.keys(s).forEach(function(c){var f=r.getFieldPolicy(t,c,!0),u=s[c];if("function"==typeof u)f.read=u;else{var y=u.keyArgs,l=u.read,m=u.merge;f.keyFn=!1===y?Lt:(0,O.c)(y)?zt(y):"function"==typeof y?y:f.keyFn,"function"==typeof l&&(f.read=l),o(f,m)}f.read&&f.merge&&(f.keyFn=f.keyFn||Lt)})},n.prototype.setRootTypename=function(t,e){void 0===e&&(e=t);var r="ROOT_"+t.toUpperCase(),i=this.rootTypenamesById[r];e!==i&&((0,z.V1)(!i||i===t,5,t),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[e]=r,this.rootTypenamesById[r]=e)},n.prototype.addPossibleTypes=function(t){var e=this;this.usingPossibleTypes=!0,Object.keys(t).forEach(function(r){e.getSupertypeSet(r,!0),t[r].forEach(function(i){e.getSupertypeSet(i,!0).add(r);var a=i.match(ht);(!a||a[0]!==i)&&e.fuzzySubtypes.set(i,new RegExp(i))})})},n.prototype.getTypePolicy=function(t){var e=this;if(!C.call(this.typePolicies,t)){var r=this.typePolicies[t]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(t);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(t,!0),this.fuzzySubtypes.forEach(function(s,o){if(s.test(t)){var c=e.supertypeMap.get(o);c&&c.forEach(function(f){return i.add(f)})}})),i&&i.size&&i.forEach(function(s){var o=e.getTypePolicy(s),c=o.fields,f=(0,v.Tt)(o,["fields"]);Object.assign(r,f),Object.assign(r.fields,c)})}var a=this.toBeAdded[t];return a&&a.length&&a.splice(0).forEach(function(s){e.updateTypePolicy(t,s)}),this.typePolicies[t]},n.prototype.getFieldPolicy=function(t,e,r){if(t){var i=this.getTypePolicy(t).fields;return i[e]||r&&(i[e]=Object.create(null))}},n.prototype.getSupertypeSet=function(t,e){var r=this.supertypeMap.get(t);return!r&&e&&this.supertypeMap.set(t,r=new Set),r},n.prototype.fragmentMatches=function(t,e,r,i){var a=this;if(!t.typeCondition)return!0;if(!e)return!1;var s=t.typeCondition.name.value;if(e===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var o=this.getSupertypeSet(e,!0),c=[o],f=function(T){var w=a.getSupertypeSet(T,!1);w&&w.size&&c.indexOf(w)<0&&c.push(w)},u=!(!r||!this.fuzzySubtypes.size),y=!1,l=0;l<c.length;++l){var m=c[l];if(m.has(s))return o.has(s)||(y&&!1!==globalThis.__DEV__&&z.V1.warn(6,e,s),o.add(s)),!0;m.forEach(f),u&&l===c.length-1&&K(t.selectionSet,r,i)&&(u=!1,y=!0,this.fuzzySubtypes.forEach(function(T,w){var j=e.match(T);j&&j[0]===e&&f(w)}))}return!1},n.prototype.hasKeyArgs=function(t,e){var r=this.getFieldPolicy(t,e,!1);return!(!r||!r.keyFn)},n.prototype.getStoreFieldName=function(t){var a,e=t.typename,r=t.fieldName,i=this.getFieldPolicy(e,r,!1),s=i&&i.keyFn;if(s&&e)for(var o={typename:e,fieldName:r,field:t.field||null,variables:t.variables},c=Tt(t);s;){var f=s(c,o);if(!(0,O.c)(f)){a=f||r;break}s=zt(f)}return void 0===a&&(a=t.field?(0,g.Ii)(t.field,t.variables):(0,g.o5)(r,Tt(t))),!1===a?r:r===N(a)?a:r+":"+a},n.prototype.readField=function(t,e){var r=t.from;if(r&&(t.field||t.fieldName)){if(void 0===t.typename){var a=e.store.getFieldValue(r,"__typename");a&&(t.typename=a)}var s=this.getStoreFieldName(t),o=N(s),c=e.store.getFieldValue(r,s),f=this.getFieldPolicy(t.typename,o,!1),u=f&&f.read;if(u){var y=Wt(this,r,t,e,e.store.getStorage((0,g.A_)(r)?r.__ref:r,s));return ct.bl.withValue(this.cache,u,[c,y])}return c}},n.prototype.getReadFunction=function(t,e){var r=this.getFieldPolicy(t,e,!1);return r&&r.read},n.prototype.getMergeFunction=function(t,e,r){var i=this.getFieldPolicy(t,e,!1),a=i&&i.merge;return!a&&r&&(a=(i=this.getTypePolicy(r))&&i.merge),a},n.prototype.runMergeFunction=function(t,e,r,i,a){var s=r.field,o=r.typename,c=r.merge;return c===Ut?Kt(i.store)(t,e):c===Vt?e:(i.overwrite&&(t=void 0),c(t,e,Wt(this,void 0,{typename:o,fieldName:s.name.value,field:s,variables:i.variables},i,a||Object.create(null))))},n}();function Wt(n,t,e,r,i){var a=n.getStoreFieldName(e),s=N(a),o=e.variables||r.variables,c=r.store,f=c.toReference,u=c.canRead;return{args:Tt(e),field:e.field||null,fieldName:s,storeFieldName:a,variables:o,isReference:g.A_,toReference:f,storage:i,cache:n.cache,canRead:u,readField:function(){return n.readField(Et(arguments,t,o),r)},mergeObjects:Kt(r.store)}}function Et(n,t,e){var s,r=n[0];return"string"==typeof r?s={fieldName:r,from:n.length>1?n[1]:t}:(s=(0,v.Cl)({},r),C.call(s,"from")||(s.from=t)),!1!==globalThis.__DEV__&&void 0===s.from&&!1!==globalThis.__DEV__&&z.V1.warn(7,(0,oe.p)(Array.from(n))),void 0===s.variables&&(s.variables=e),s}function Kt(n){return function(e,r){if((0,O.c)(e)||(0,O.c)(r))throw(0,z.vA)(8);if((0,p.U)(e)&&(0,p.U)(r)){var i=n.getFieldValue(e,"__typename"),a=n.getFieldValue(r,"__typename");if(i&&a&&i!==a)return r;if((0,g.A_)(e)&&q(r))return n.merge(e.__ref,r),e;if(q(e)&&(0,g.A_)(r))return n.merge(e,r.__ref),r;if(q(e)&&q(r))return(0,v.Cl)((0,v.Cl)({},e),r)}return r}}function Mt(n,t,e){var r="".concat(t).concat(e),i=n.flavors.get(r);return i||n.flavors.set(r,i=n.clientOnly===t&&n.deferred===e?n:(0,v.Cl)((0,v.Cl)({},n),{clientOnly:t,deferred:e})),i}var ue=function(){function n(t,e,r){this.cache=t,this.reader=e,this.fragments=r}return n.prototype.writeToStore=function(t,e){var r=this,i=e.query,a=e.result,s=e.dataId,o=e.variables,c=e.overwrite,f=(0,b.Vu)(i),u=function qt(){return new d.ZI}();o=(0,v.Cl)((0,v.Cl)({},(0,b.wY)(f)),o);var y=(0,v.Cl)((0,v.Cl)({store:t,written:Object.create(null),merge:function(m,T){return u.merge(m,T)},variables:o,varString:(0,$.M)(o)},wt(i,this.fragments)),{overwrite:!!c,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),l=this.processSelectionSet({result:a||Object.create(null),dataId:s,selectionSet:f.selectionSet,mergeTree:{map:new Map},context:y});if(!(0,g.A_)(l))throw(0,z.vA)(11,a);return y.incomingById.forEach(function(m,T){var w=m.storeObject,j=m.mergeTree,W=m.fieldNodeSet,I=(0,g.WU)(T);if(j&&j.map.size){var S=r.applyMerges(j,I,w,y);if((0,g.A_)(S))return;w=S}if(!1!==globalThis.__DEV__&&!y.overwrite){var k=Object.create(null);W.forEach(function(L){L.selectionSet&&(k[L.name.value]=!0)}),Object.keys(w).forEach(function(L){(function(L){return!0===k[N(L)]})(L)&&!function(L){var H=j&&j.map.get(L);return!!(H&&H.info&&H.info.merge)}(L)&&function le(n,t,e,r){var i=function(y){var l=r.getFieldValue(y,e);return"object"==typeof l&&l},a=i(n);if(a){var s=i(t);if(s&&!(0,g.A_)(a)&&!(0,Y.L)(a,s)&&!Object.keys(a).every(function(y){return void 0!==r.getFieldValue(s,y)})){var o=r.getFieldValue(n,"__typename")||r.getFieldValue(t,"__typename"),c=N(e),f="".concat(o,".").concat(c);if(!Jt.has(f)){Jt.add(f);var u=[];!(0,O.c)(a)&&!(0,O.c)(s)&&[a,s].forEach(function(y){var l=r.getFieldValue(y,"__typename");"string"==typeof l&&!u.includes(l)&&u.push(l)}),!1!==globalThis.__DEV__&&z.V1.warn(14,c,o,u.length?"either ensure all objects of type "+u.join(" and ")+" have an ID or a custom merge function, or ":"",f,a,s)}}}}(I,w,L,y.store)})}t.merge(T,w)}),t.retain(l.__ref),l},n.prototype.processSelectionSet=function(t){var e=this,r=t.dataId,i=t.result,a=t.selectionSet,s=t.context,o=t.mergeTree,c=this.cache.policies,f=Object.create(null),u=r&&c.rootTypenamesById[r]||(0,g.D$)(i,a,s.fragmentMap)||r&&s.store.get(r,"__typename");"string"==typeof u&&(f.__typename=u);var y=function(){var S=Et(arguments,f,s.variables);if((0,g.A_)(S.from)){var k=s.incomingById.get(S.from.__ref);if(k){var _=c.readField((0,v.Cl)((0,v.Cl)({},S),{from:k.storeObject}),s);if(void 0!==_)return _}}return c.readField(S,s)},l=new Set;this.flattenFields(a,i,s,u).forEach(function(S,k){var _,U=(0,g.ue)(k),L=i[U];if(l.add(k),void 0!==L){var H=c.getStoreFieldName({typename:u,fieldName:k.name.value,field:k,variables:S.variables}),Gt=Qt(o,H),yt=e.processFieldValue(L,k,k.selectionSet?Mt(S,!1,!1):S,Gt),Zt=void 0;k.selectionSet&&((0,g.A_)(yt)||q(yt))&&(Zt=y("__typename",yt));var Xt=c.getMergeFunction(u,k.name.value,Zt);Xt?Gt.info={field:k,typename:u,merge:Xt}:Nt(o,H),f=S.merge(f,((_={})[H]=yt,_))}else!1!==globalThis.__DEV__&&!S.clientOnly&&!S.deferred&&!Q.XY.added(k)&&!c.getReadFunction(u,k.name.value)&&!1!==globalThis.__DEV__&&z.V1.error(12,(0,g.ue)(k),i)});try{var m=c.identify(i,{typename:u,selectionSet:a,fragmentMap:s.fragmentMap,storeObject:f,readField:y}),w=m[1];r=r||m[0],w&&(f=s.merge(f,w))}catch(S){if(!r)throw S}if("string"==typeof r){var j=(0,g.WU)(r),W=s.written[r]||(s.written[r]=[]);if(W.indexOf(a)>=0||(W.push(a),this.reader&&this.reader.isFresh(i,j,a,s)))return j;var I=s.incomingById.get(r);return I?(I.storeObject=s.merge(I.storeObject,f),I.mergeTree=Rt(I.mergeTree,o),l.forEach(function(S){return I.fieldNodeSet.add(S)})):s.incomingById.set(r,{storeObject:f,mergeTree:dt(o)?void 0:o,fieldNodeSet:l}),j}return f},n.prototype.processFieldValue=function(t,e,r,i){var a=this;return e.selectionSet&&null!==t?(0,O.c)(t)?t.map(function(s,o){var c=a.processFieldValue(s,e,r,Qt(i,o));return Nt(i,o),c}):this.processSelectionSet({result:t,selectionSet:e.selectionSet,context:r,mergeTree:i}):!1!==globalThis.__DEV__?(0,se.m)(t):t},n.prototype.flattenFields=function(t,e,r,i){void 0===i&&(i=(0,g.D$)(e,t,r.fragmentMap));var a=new Map,s=this.cache.policies,o=new x.b(!1);return function c(f,u){var y=o.lookup(f,u.clientOnly,u.deferred);y.visited||(y.visited=!0,f.selections.forEach(function(l){if((0,h.MS)(l,r.variables)){var m=u.clientOnly,T=u.deferred;if(!(m&&T)&&(0,O.E)(l.directives)&&l.directives.forEach(function(W){var I=W.name.value;if("client"===I&&(m=!0),"defer"===I){var S=(0,g.MB)(W,r.variables);(!S||!1!==S.if)&&(T=!0)}}),(0,g.dt)(l)){var w=a.get(l);w&&(m=m&&w.clientOnly,T=T&&w.deferred),a.set(l,Mt(r,m,T))}else{var j=(0,G.HQ)(l,r.lookupFragment);if(!j&&l.kind===et.b.FRAGMENT_SPREAD)throw(0,z.vA)(13,l.name.value);j&&s.fragmentMatches(j,i,e,r.variables)&&c(j.selectionSet,Mt(r,m,T))}}}))}(t,r),a},n.prototype.applyMerges=function(t,e,r,i,a){var s,o=this;if(t.map.size&&!(0,g.A_)(r)){var c=(0,O.c)(r)||!(0,g.A_)(e)&&!q(e)?void 0:e,f=r;c&&!a&&(a=[(0,g.A_)(c)?c.__ref:c]);var u,y=function(l,m){return(0,O.c)(l)?"number"==typeof m?l[m]:void 0:i.store.getFieldValue(l,String(m))};t.map.forEach(function(l,m){var T=y(c,m),w=y(f,m);if(void 0!==w){a&&a.push(m);var j=o.applyMerges(l,T,w,i,a);j!==w&&(u=u||new Map).set(m,j),a&&(0,z.V1)(a.pop()===m)}}),u&&(r=(0,O.c)(f)?f.slice(0):(0,v.Cl)({},f),u.forEach(function(l,m){r[m]=l}))}return t.info?this.cache.policies.runMergeFunction(e,r,t.info,i,a&&(s=i.store).getStorage.apply(s,a)):r},n}(),Ht=[];function Qt(n,t){var e=n.map;return e.has(t)||e.set(t,Ht.pop()||{map:new Map}),e.get(t)}function Rt(n,t){if(n===t||!t||dt(t))return n;if(!n||dt(n))return t;var e=n.info&&t.info?(0,v.Cl)((0,v.Cl)({},n.info),t.info):n.info||t.info,r=n.map.size&&t.map.size,a={info:e,map:r?new Map:n.map.size?n.map:t.map};if(r){var s=new Set(t.map.keys());n.map.forEach(function(o,c){a.map.set(c,Rt(o,t.map.get(c))),s.delete(c)}),s.forEach(function(o){a.map.set(o,Rt(t.map.get(o),n.map.get(o)))})}return a}function dt(n){return!n||!(n.info||n.map.size)}function Nt(n,t){var e=n.map,r=e.get(t);r&&dt(r)&&(Ht.push(r),e.delete(t))}var Jt=new Set,Yt=function(n){function t(e){void 0===e&&(e={});var r=n.call(this)||this;return r.watches=new Set,r.addTypenameTransform=new lt.c(Q.XY),r.assumeImmutableResults=!0,r.makeVar=ct.UT,r.txCount=0,r.config=function P(n){return(0,gt.o)(A,n)}(e),r.addTypename=!!r.config.addTypename,r.policies=new fe({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return(0,v.C6)(t,n),t.prototype.init=function(){var e=this.data=new st.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var r=this,i=this.storeReader,a=this.config.fragments;this.storeWriter=new ue(this,this.storeReader=new ie({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:V(this.config),canon:e?void 0:i&&i.canon,fragments:a}),a),this.maybeBroadcastWatch=(0,J.LV)(function(s,o){return r.broadcastWatch(s,o)},{max:this.config.resultCacheMaxSize||X.v["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(s){var o=s.optimistic?r.optimisticData:r.data;if(ot(o))return o.makeCacheKey(s.query,s.callback,(0,$.M)({optimistic:s.optimistic,id:s.id,variables:s.variables}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var r=e.returnPartialData,i=void 0!==r&&r;try{return this.storeReader.diffQueryAgainstStore((0,v.Cl)((0,v.Cl)({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(a){if(a instanceof at)return null;throw a}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{! --this.txCount&&!1!==e.broadcast&&this.broadcastWatches()}},t.prototype.modify=function(e){if(C.call(e,"id")&&!e.id)return!1;var r=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(e.id||"ROOT_QUERY",e.fields)}finally{! --this.txCount&&!1!==e.broadcast&&this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore((0,v.Cl)((0,v.Cl)({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var r=this;return this.watches.size||(0,ct.MS)(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){r.watches.delete(e)&&!r.watches.size&&(0,ct.WR)(r),r.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){var r;$.M.reset(),mt.y.reset(),this.addTypenameTransform.resetCache(),null===(r=this.config.fragments)||void 0===r||r.resetCaches();var i=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),i},t.prototype.retain=function(e,r){return(r?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,r){return(r?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if((0,g.A_)(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(r){!1!==globalThis.__DEV__&&z.V1.warn(r)}},t.prototype.evict=function(e){if(!e.id){if(C.call(e,"id"))return!1;e=(0,v.Cl)((0,v.Cl)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{! --this.txCount&&!1!==e.broadcast&&this.broadcastWatches()}},t.prototype.reset=function(e){var r=this;return this.init(),$.M.reset(),e&&e.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),(0,ct.WR)(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var r=this.optimisticData.removeLayer(e);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},t.prototype.batch=function(e){var f,r=this,i=e.update,a=e.optimistic,s=void 0===a||a,o=e.removeOptimistic,c=e.onWatchUpdated,u=function(l){var T=r.data,w=r.optimisticData;++r.txCount,l&&(r.data=r.optimisticData=l);try{return f=i(r)}finally{--r.txCount,r.data=T,r.optimisticData=w}},y=new Set;return c&&!this.txCount&&this.broadcastWatches((0,v.Cl)((0,v.Cl)({},e),{onWatchUpdated:function(l){return y.add(l),!1}})),"string"==typeof s?this.optimisticData=this.optimisticData.addLayer(s,u):!1===s?u(this.data):u(),"string"==typeof o&&(this.optimisticData=this.optimisticData.removeLayer(o)),c&&y.size?(this.broadcastWatches((0,v.Cl)((0,v.Cl)({},e),{onWatchUpdated:function(l,m){var T=c.call(this,l,m);return!1!==T&&y.delete(l),T}})),y.size&&y.forEach(function(l){return r.maybeBroadcastWatch.dirty(l)})):this.broadcastWatches(e),f},t.prototype.performTransaction=function(e,r){return this.batch({update:e,optimistic:r||null!==r})},t.prototype.transformDocument=function(e){return this.addTypenameToDocument(this.addFragmentsToDocument(e))},t.prototype.broadcastWatches=function(e){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,e)})},t.prototype.addFragmentsToDocument=function(e){var r=this.config.fragments;return r?r.transform(e):e},t.prototype.addTypenameToDocument=function(e){return this.addTypename?this.addTypenameTransform.transformDocument(e):e},t.prototype.broadcastWatch=function(e,r){var i=e.lastDiff,a=this.diff(e);r&&(e.optimistic&&"string"==typeof r.optimistic&&(a.fromOptimisticTransaction=!0),r.onWatchUpdated&&!1===r.onWatchUpdated.call(this,e,a,i))||(!i||!(0,Y.L)(i.result,a.result))&&e.callback(e.lastDiff=a,i)},t}(ut);!1!==globalThis.__DEV__&&(Yt.prototype.getMemoryInternals=ft.cM)},7848:($t,vt,R)=>{R.d(vt,{PR:()=>g});var v=R(3246),z=R(3953),J=R(8008),Y=R(7994),G=R(1985),X=R(1626),nt=R(1635),ft=function(){function b(d){var h=d.batchDebounce,p=d.batchInterval,D=d.batchMax,M=d.batchHandler,E=d.batchKey;this.batchesByKey=new Map,this.scheduledBatchTimerByKey=new Map,this.batchDebounce=h,this.batchInterval=p,this.batchMax=D||0,this.batchHandler=M,this.batchKey=E||function(){return""}}return b.prototype.enqueueRequest=function(d){var h=this,p=(0,nt.Cl)((0,nt.Cl)({},d),{next:[],error:[],complete:[],subscribers:new Set}),D=this.batchKey(d.operation);return p.observable||(p.observable=new Y.c(function(M){var E=h.batchesByKey.get(D);E||h.batchesByKey.set(D,E=new Set);var x=0===E.size,O=0===p.subscribers.size;return p.subscribers.add(M),O&&E.add(p),M.next&&p.next.push(M.next.bind(M)),M.error&&p.error.push(M.error.bind(M)),M.complete&&p.complete.push(M.complete.bind(M)),(x||h.batchDebounce)&&h.scheduleQueueConsumption(D),E.size===h.batchMax&&h.consumeQueue(D),function(){var C;p.subscribers.delete(M)&&p.subscribers.size<1&&E.delete(p)&&E.size<1&&(h.consumeQueue(D),null===(C=E.subscription)||void 0===C||C.unsubscribe())}})),p.observable},b.prototype.consumeQueue=function(d){void 0===d&&(d="");var h=this.batchesByKey.get(d);if(this.batchesByKey.delete(d),h&&h.size){var p=[],D=[],M=[],E=[],x=[],O=[];h.forEach(function(F){p.push(F.operation),D.push(F.forward),M.push(F.observable),E.push(F.next),x.push(F.error),O.push(F.complete)});var C=this.batchHandler(p,D)||Y.c.of(),B=function(F){x.forEach(function(A){A&&A.forEach(function(P){return P(F)})})};return h.subscription=C.subscribe({next:function(F){if(Array.isArray(F)||(F=[F]),E.length!==F.length){var A=new Error("server returned results with length ".concat(F.length,", expected length of ").concat(E.length));return A.result=F,B(A)}F.forEach(function(P,V){E[V]&&E[V].forEach(function(Z){return Z(P)})})},error:B,complete:function(){O.forEach(function(F){F&&F.forEach(function(A){return A()})})}}),M}},b.prototype.scheduleQueueConsumption=function(d){var h=this;clearTimeout(this.scheduledBatchTimerByKey.get(d)),this.scheduledBatchTimerByKey.set(d,setTimeout(function(){h.consumeQueue(d),h.scheduledBatchTimerByKey.delete(d)},this.batchInterval))},b}();!function(b){function d(h){var p=b.call(this)||this,D=h||{},E=D.batchInterval,O=D.batchMax,B=D.batchHandler,A=D.batchKey;return p.batcher=new ft({batchDebounce:D.batchDebounce,batchInterval:void 0===E?10:E,batchMax:void 0===O?0:O,batchHandler:void 0===B?function(){return null}:B,batchKey:void 0===A?function(){return""}:A}),h.batchHandler.length<=1&&(p.request=function(V){return p.batcher.enqueueRequest({operation:V})}),p}(0,nt.C6)(d,b),d.prototype.request=function(h,p){return this.batcher.enqueueRequest({operation:h,forward:p})}}(J.C);class mt extends J.C{httpClient;options;requester;print=v.y;constructor(d,h){super(),this.httpClient=d,this.options=h,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=p=>new Y.c(D=>{const M=p.getContext(),E=(K,q)=>function Q(...b){const d=b.find(h=>typeof h<"u");return typeof d>"u"?b[b.length-1]:d}(M[K],this.options[K],q);let x=E("method","POST");const O=E("includeQuery",!0),C=E("includeExtensions",!1),B=E("uri","graphql"),F=E("withCredentials"),A=E("useMultipart"),P=!0===this.options.useGETForQueries,V=p.query.definitions.some(K=>"OperationDefinition"===K.kind&&"query"===K.operation);P&&V&&(x="GET");const Z={method:x,url:"function"==typeof B?B(p):B,body:{operationName:p.operationName,variables:p.variables},options:{withCredentials:F,useMultipart:A,headers:this.options.headers}};C&&(Z.body.extensions=p.extensions),O&&(Z.body.query=this.print(p.query));const ht=function $(b){let d=b.headers&&b.headers instanceof X.HttpHeaders?b.headers:new X.HttpHeaders(b.headers);if(b.clientAwareness){const{name:h,version:p}=b.clientAwareness;h&&!d.has("apollographql-client-name")&&(d=d.set("apollographql-client-name",h)),p&&!d.has("apollographql-client-version")&&(d=d.set("apollographql-client-version",p))}return d}(M);Z.options.headers=((b,d)=>b&&d?d.keys().reduce((p,D)=>p.set(D,d.getAll(D)),b):d||b)(Z.options.headers,ht);const N=((b,d,h)=>{const p=-1!==["POST","PUT","PATCH"].indexOf(b.method.toUpperCase()),M=b.body.length;let x,E=b.options&&b.options.useMultipart;if(E){if(M)return new G.c(C=>C.error(new Error("File upload is not available when combined with Batching")));if(!p)return new G.c(C=>C.error(new Error("File upload is not available when GET is used")));if(!h)return new G.c(C=>C.error(new Error('To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink\'s options')));x=h(b.body),E=!!x.files.size}let O={};if(M){if(!p)return new G.c(C=>C.error(new Error("Batching is not available for GET requests")));O={body:b.body}}else O=p?{body:E?x.clone:b.body}:{params:Object.keys(b.body).reduce((F,A)=>{const P=b.body[A];return F[A]=-1!==["variables","extensions"].indexOf(A.toLowerCase())?JSON.stringify(P):P,F},{})};if(E&&p){const C=new FormData;C.append("operations",JSON.stringify(O.body));const B={},F=x.files;let A=0;F.forEach(P=>{B[++A]=P}),C.append("map",JSON.stringify(B)),A=0,F.forEach((P,V)=>{C.append(++A+"",V,V.name)}),O.body=C}return d.request(b.method,b.url,{observe:"response",responseType:"json",reportProgress:!1,...O,...b.options})})(Z,this.httpClient,this.options.extractFiles).subscribe({next:K=>{p.setContext({response:K}),D.next(K.body)},error:K=>D.error(K),complete:()=>D.complete()});return()=>{N.closed||N.unsubscribe()}})}request(d){return this.requester(d)}}let g=(()=>{class b{httpClient;constructor(h){this.httpClient=h}create(h){return new mt(this.httpClient,h)}static \u0275fac=function(p){return new(p||b)(z.KVO(X.HttpClient))};static \u0275prov=z.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()}}]);