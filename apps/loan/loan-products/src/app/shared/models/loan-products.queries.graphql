# queries.graphql

query Ping {
  ping
}

# Query to fetch health status
query GetHealthStatus {
  healthQueries {
    awsSecrets {
      status
      observedAt
      details
    }
    batScore {
      status
      observedAt
      details
    }
    class {
      status
      observedAt
      details
    }
    database {
      status
      observedAt
      details
    }
    s3 {
      status
      observedAt
      details
    }
    theWorkNumber {
      status
      observedAt
      details
    }
    zeebe {
      status
      observedAt
      details
    }
  }
}

# Mutation to initiate income verification asynchronously
mutation RunIncomeVerificationAsync(
  $input: RunIncomeVerificationInput!
  $options: RunIncomeVerificationAsyncOptionsInput
) {
  verification: verification {
    runIncomeVerificationAsync(input: $input, options: $options) {
      createdAt
      data {
        ... on FinicityData {
          jsonUrl
        }
        ... on TheWorkNumberData {
          jsonUrl
          pdfUrl
          xmlUrl
        }
      }
      error
      id
      modifiedAt
      provider
      status
      workflowId
    }
  }
}

# Mutation to initiate income verification synchronously
mutation RunIncomeVerification(
  $input: RunIncomeVerificationInput!
  $options: RunIncomeVerificationOptionsInput
) {
  verification: verification {
    runIncomeVerification(input: $input, options: $options) {
      createdAt
      data {
        ... on FinicityData {
          jsonUrl
        }
        ... on TheWorkNumberData {
          jsonUrl
          pdfUrl
          xmlUrl
        }
      }
      error
      id
      modifiedAt
      provider
      status
      workflowId
    }
  }
}
