"use strict";(self.webpackChunkapp_shell=self.webpackChunkapp_shell||[]).push([[656],{3656:(x,h,o)=>{o.r(h),o.d(h,{SandboxModule:()=>rt});var r=o(7288),y=o(6076),d=o(1368),a=o(4716),_=o(4476),l=o(5904),g=o(7564),m=o(232),u=o(9216),t=o(4496);let N=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=t.a4G({type:i});static \u0275inj=t.s3X({imports:[d.MD,g.kT]})}return i})(),F=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=t.a4G({type:i});static \u0275inj=t.s3X({imports:[d.MD,g.kT]})}return i})();var I=o(2736);function A(i,p){if(1&i){const e=t.KQA();t.SAx(0),t.I0R(1,"input",2),t.qCj("input",function(s){t.usT(e);const c=t.GaO().$implicit,f=t.GaO();return t.CGJ(f.onInput(s,c-1))})("focus",function(s){t.usT(e);const c=t.GaO(2);return t.CGJ(c.onInputFocus(s))})("blur",function(s){t.usT(e);const c=t.GaO(2);return t.CGJ(c.onInputBlur(s))})("paste",function(s){t.usT(e);const c=t.GaO(2);return t.CGJ(c.onPaste(s))})("keydown",function(s){t.usT(e);const c=t.GaO(2);return t.CGJ(c.onKeyDown(s))}),t.C$Y(),t.k70()}if(2&i){const e=t.GaO().$implicit,n=t.GaO();t.yG2(),t.E7m("value",n.getModelValue(e))("maxLength",1)("type",n.inputType)("inputmode",n.inputMode)("variant",n.variant)("readonly",n.readonly)("disabled",n.disabled)("invalid",n.invalid)("tabindex",n.tabindex)("unstyled",n.unstyled)}}function $(i,p){1&i&&t.C_f(0)}const w=(i,p,e)=>({$implicit:i,events:p,index:e});function U(i,p){if(1&i&&(t.SAx(0),t.yuY(1,$,1,0,"ng-container",3),t.k70()),2&i){const e=t.GaO().$implicit,n=t.GaO();t.yG2(),t.E7m("ngTemplateOutlet",n.inputTemplate)("ngTemplateOutletContext",t.uAc(2,w,n.getToken(e-1),n.getTemplateEvents(e-1),e))}}function P(i,p){if(1&i&&(t.SAx(0),t.yuY(1,A,2,10,"ng-container",1)(2,U,2,6,"ng-container",1),t.k70()),2&i){const e=t.GaO();t.yG2(),t.E7m("ngIf",!e.inputTemplate),t.yG2(),t.E7m("ngIf",e.inputTemplate)}}const B={provide:a.NG_VALUE_ACCESSOR,useExisting:(0,t.wd)(()=>Y),multi:!0};let Y=(()=>{class i{cd;invalid=!1;disabled=!1;readonly=!1;variant=null;tabindex=null;length=4;mask=!1;integerOnly=!1;onChange=new t._w7;onFocus=new t._w7;onBlur=new t._w7;templates;inputTemplate;tokens=[];onModelChange=()=>{};onModelTouched=()=>{};value;get inputMode(){return this.integerOnly?"number":"text"}get inputType(){return this.mask?"password":"text"}constructor(e){this.cd=e}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.inputTemplate=e.template})}getToken(e){return this.tokens[e]}getTemplateEvents(e){return{input:n=>this.onInput(n,e),keydown:n=>this.onKeyDown(n),focus:n=>this.onFocus.emit(n),blur:n=>this.onBlur.emit(n),paste:n=>this.onPaste(n)}}onInput(e,n){this.tokens[n]=e.target.value,this.updateModel(e),"deleteContentBackward"===e.inputType?this.moveToPrev(e):("insertText"===e.inputType||"deleteContentForward"===e.inputType)&&this.moveToNext(e)}updateModel(e){const n=this.tokens.join("");this.onModelChange(n),this.onChange.emit({originalEvent:e,value:n})}writeValue(e){this.value=e?Array.isArray(e)&&e.length>0?e.slice(0,this.length):e.toString().split("").slice(0,this.length):e,this.updateTokens(),this.cd.markForCheck()}updateTokens(){this.tokens=null!=this.value?Array.isArray(this.value)?[...this.value]:this.value.toString().split(""):[]}getModelValue(e){return this.tokens[e-1]||""}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}moveToPrev(e){let n=this.findPrevInput(e.target);n&&(n.focus(),n.select())}moveToNext(e){let n=this.findNextInput(e.target);n&&(n.focus(),n.select())}findNextInput(e){let n=e.nextElementSibling;if(n)return"INPUT"===n.nodeName?n:this.findNextInput(n)}findPrevInput(e){let n=e.previousElementSibling;if(n)return"INPUT"===n.nodeName?n:this.findPrevInput(n)}onInputFocus(e){e.target.select(),this.onFocus.emit(e)}onInputBlur(e){this.onBlur.emit(e)}onKeyDown(e){switch(e.keyCode){case 37:this.moveToPrev(e),e.preventDefault();break;case 38:case 40:e.preventDefault();break;case 8:0===e.target.value.length&&(this.moveToPrev(e),e.preventDefault());break;case 39:this.moveToNext(e),e.preventDefault();break;default:this.integerOnly&&!(e.keyCode>=48&&e.keyCode<=57)&&e.preventDefault()}}onPaste(e){let n=e.clipboardData.getData("text");if(n.length){let s=n.substring(0,this.length+1);(!this.integerOnly||!isNaN(s))&&(this.tokens=s.split(""),this.updateModel(e))}e.preventDefault()}getRange(e){return Array.from({length:e},(n,s)=>s+1)}trackByFn(e){return e}static \u0275fac=function(n){return new(n||i)(t.GI1(t.kD9))};static \u0275cmp=t.In1({type:i,selectors:[["p-inputOtp"]],contentQueries:function(n,s,c){if(1&n&&t.szK(c,g.U3,4),2&n){let f;t.wto(f=t.Gqi())&&(s.templates=f)}},hostAttrs:[1,"p-inputotp","p-component"],inputs:{invalid:"invalid",disabled:"disabled",readonly:"readonly",variant:"variant",tabindex:"tabindex",length:"length",mask:"mask",integerOnly:"integerOnly"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[t.M5G([B])],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["type","text","pInputText","",1,"p-inputotp-input",3,"value","maxLength","type","inputmode","variant","readonly","disabled","invalid","tabindex","unstyled","input","focus","blur","paste","keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,s){1&n&&t.yuY(0,P,3,2,"ng-container",0),2&n&&t.E7m("ngForOf",s.getRange(s.length))("ngForTrackBy",s.trackByFn)},dependencies:[d.ay,d.u_,d.XV,I.C],encapsulation:2,changeDetection:0})}return i})(),X=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=t.a4G({type:i});static \u0275inj=t.s3X({imports:[d.MD,g.kT,I.s,g.kT]})}return i})();var V=o(9188),S=o(9260);let L=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=t.a4G({type:i});static \u0275inj=t.s3X({imports:[d.MD]})}return i})();var E=o(3923),M=o(6700),G=o(4704),T=o(7400),O=o(6684),D=o(3992),k=o(7048),j=o(48);const z=()=>({height:"6px"});function H(i,p){1&i&&t.wR5(0,"p-progressBar",13),2&i&&t.m_g(t.q4q(2,z))}function K(i,p){if(1&i&&(t.I0R(0,"div",11),t.yuY(1,H,1,3,"p-progressBar",12),t.wVc(2,"async"),t.C$Y()),2&i){const e=t.GaO();t.yG2(),t.E7m("ngIf",t.kDX(2,1,e.loading$))}}function W(i,p){if(1&i&&(t.I0R(0,"div",14),t.OEk(1),t.wR5(2,"br"),t.OEk(3),t.C$Y()),2&i){const e=p.ngIf;t.yG2(),t.oRS(" Customer Information (",e.userId,")"),t.yG2(2),t.oRS(" Branch: ",e.branchId," ")}}function J(i,p){if(1&i&&(t.I0R(0,"tr")(1,"td"),t.OEk(2,"First Name"),t.C$Y(),t.I0R(3,"td"),t.OEk(4),t.C$Y()()),2&i){const e=t.GaO();t.yG2(4),t.cNF(e.form.value.CUST_FIRST_NAME_X)}}function Q(i,p){if(1&i&&(t.I0R(0,"tr")(1,"td"),t.OEk(2,"Last Name"),t.C$Y(),t.I0R(3,"td"),t.OEk(4),t.C$Y()()),2&i){const e=t.GaO();t.yG2(4),t.cNF(e.form.value.CUST_LAST_NAME_X)}}function Z(i,p){if(1&i&&(t.I0R(0,"tr")(1,"td"),t.OEk(2,"Other Names Used"),t.C$Y(),t.I0R(3,"td"),t.OEk(4),t.C$Y()()),2&i){const e=t.GaO();t.yG2(4),t.cNF(e.form.value.OTHER_NAMES_USED_X)}}let b=(()=>{class i{constructor(e,n,s,c){this.fb=e,this.messageService=n,this.route=s,this.http=c,this.form=this.fb.group({CUST_FIRST_NAME_X:new a.FormControl,CUST_MIDDLE_INIT_X:new a.FormControl,CUST_LAST_NAME_X:new a.FormControl,OTHER_NAMES_USED_X:new a.FormControl}),this.loading$=new M.g(!1),this.routeParams$=this.route.params.pipe((0,G.k)(f=>({userId:f.userId,branchId:f.branchId})))}ngOnInit(){this.loading$.next(!0),this.routeParams$.pipe((0,T.O)(({branchId:e,userId:n})=>this.http.get(`http://localhost:3000/api/applications/branch/${e}/application/${n}`)),(0,O.I)(e=>!!e),(0,D.U)(1)).subscribe(e=>{this.loading$.next(!1),this.form.patchValue(e)},()=>{this.loading$.next(!1),this.messageService.add({life:3e3,severity:"error",summary:"Error loading user data",detail:"Check the console for details"})})}submit(){this.loading$.next(!0);const e=this.form.getRawValue();this.routeParams$.pipe((0,T.O)(({branchId:n,userId:s})=>this.http.put(`http://localhost:3000/api/applications/branch/${n}/application/${s}`,e))).subscribe(()=>{this.loading$.next(!1),this.messageService.add({life:3e3,severity:"success",summary:"Success",detail:"User Updated Successfully"})},()=>{this.loading$.next(!1),this.messageService.add({life:3e3,severity:"error",summary:"Error saving user data",detail:"Check the console for details"})})}static#t=this.\u0275fac=function(n){return new(n||i)(t.GI1(a.FormBuilder),t.GI1(g.mi),t.GI1(l.gV),t.GI1(k.HttpClient))};static#e=this.\u0275cmp=t.In1({type:i,selectors:[["app-sandbox"]],decls:23,vars:11,consts:[[3,"showNav"],[1,"container","py-4"],[2,"margin","auto","max-width","480px"],["pTemplate","header"],["class","p-card-title",4,"ngIf"],[3,"formGroup","submit"],[1,"table","table-sm","table-striped"],[4,"ngIf"],["id","name","pInputText","","formControlName","CUST_MIDDLE_INIT_X",1,"w-100"],[1,"mb-0","text-end"],["pButton","","type","submit",3,"disabled"],[2,"height","6px"],["mode","indeterminate",3,"style",4,"ngIf"],["mode","indeterminate"],[1,"p-card-title"]],template:function(n,s){1&n&&(t.I0R(0,"lib-masterpage",0)(1,"div",1)(2,"div",2)(3,"p-card"),t.yuY(4,K,3,3,"ng-template",3)(5,W,4,2,"div",4),t.wVc(6,"async"),t.I0R(7,"form",5),t.qCj("submit",function(){return s.submit()}),t.I0R(8,"table",6)(9,"tbody"),t.yuY(10,J,5,1,"tr",7)(11,Q,5,1,"tr",7),t.I0R(12,"tr")(13,"td"),t.OEk(14,"Middle Initial"),t.C$Y(),t.I0R(15,"td"),t.wR5(16,"input",8),t.C$Y()(),t.yuY(17,Z,5,1,"tr",7),t.C$Y()(),t.I0R(18,"div",9)(19,"button",10),t.wVc(20,"async"),t.OEk(21," Update User "),t.C$Y()()()()()()(),t.wR5(22,"p-toast")),2&n&&(t.E7m("showNav",!1),t.yG2(5),t.E7m("ngIf",t.kDX(6,7,s.routeParams$)),t.yG2(2),t.E7m("formGroup",s.form),t.yG2(3),t.E7m("ngIf",s.form.value.CUST_FIRST_NAME_X),t.yG2(),t.E7m("ngIf",s.form.value.CUST_LAST_NAME_X),t.yG2(6),t.E7m("ngIf",s.form.value.OTHER_NAMES_USED_X),t.yG2(2),t.E7m("disabled",t.kDX(20,9,s.loading$)))},dependencies:[d.u_,j.I,a.\u0275NgNoValidate,a.DefaultValueAccessor,a.NgControlStatus,a.NgControlStatusGroup,a.FormGroupDirective,a.FormControlName,u.Card,g.U3,I.C,m.ButtonDirective,E.Toast,S.c,d.a]})}return i})();const q=()=>({height:"6px"});function tt(i,p){1&i&&t.wR5(0,"p-progressBar",12),2&i&&t.m_g(t.q4q(2,q))}function et(i,p){if(1&i&&(t.I0R(0,"div",10),t.yuY(1,tt,1,3,"p-progressBar",11),t.wVc(2,"async"),t.C$Y()),2&i){const e=t.GaO();t.yG2(),t.E7m("ngIf",t.kDX(2,1,e.loading$))}}function nt(i,p){if(1&i&&(t.I0R(0,"div",13),t.OEk(1),t.wR5(2,"br"),t.OEk(3),t.C$Y()),2&i){const e=p.ngIf;t.yG2(),t.oRS(" Customer Information (",e.userId,")"),t.yG2(2),t.oRS(" Branch: ",e.branchId," ")}}function it(i,p){if(1&i&&(t.I0R(0,"tr")(1,"td"),t.OEk(2,"First Name"),t.C$Y(),t.I0R(3,"td"),t.OEk(4),t.C$Y()()),2&i){const e=t.GaO();t.yG2(4),t.cNF(e.form.value.CUST_FIRST_NAME_X)}}function st(i,p){if(1&i&&(t.I0R(0,"tr")(1,"td"),t.OEk(2,"Last Name"),t.C$Y(),t.I0R(3,"td"),t.OEk(4),t.C$Y()()),2&i){const e=t.GaO();t.yG2(4),t.cNF(e.form.value.CUST_LAST_NAME_X)}}function ot(i,p){if(1&i&&(t.I0R(0,"tr")(1,"td"),t.OEk(2,"Other Names Used"),t.C$Y(),t.I0R(3,"td"),t.OEk(4),t.C$Y()()),2&i){const e=t.GaO();t.yG2(4),t.cNF(e.form.value.OTHER_NAMES_USED_X)}}let R=(()=>{class i{constructor(e,n,s,c){this.fb=e,this.messageService=n,this.route=s,this.http=c,this.form=this.fb.group({CUST_FIRST_NAME_X:new a.FormControl,CUST_MIDDLE_INIT_X:new a.FormControl,CUST_LAST_NAME_X:new a.FormControl,OTHER_NAMES_USED_X:new a.FormControl}),this.loading$=new M.g(!1),this.routeParams$=this.route.params.pipe((0,G.k)(f=>({userId:f.userId,branchId:f.branchId})))}ngOnInit(){this.loading$.next(!0),this.routeParams$.pipe((0,T.O)(({branchId:e,userId:n})=>this.http.get(`http://localhost:3000/api/applications/branch/${e}/application/${n}`)),(0,O.I)(e=>!!e),(0,D.U)(1)).subscribe(e=>{this.loading$.next(!1),this.form.patchValue(e)},()=>{this.loading$.next(!1),this.messageService.add({life:3e3,severity:"error",summary:"Error loading user data",detail:"Check the console for details"})})}submit(){this.loading$.next(!0);const e=this.form.getRawValue();this.routeParams$.pipe((0,T.O)(({branchId:n,userId:s})=>this.http.put(`http://localhost:3000/api/applications/branch/${n}/application/${s}`,e))).subscribe(()=>{this.loading$.next(!1),this.messageService.add({life:3e3,severity:"success",summary:"Success",detail:"User Updated Successfully"})},()=>{this.loading$.next(!1),this.messageService.add({life:3e3,severity:"error",summary:"Error saving user data",detail:"Check the console for details"})})}static#t=this.\u0275fac=function(n){return new(n||i)(t.GI1(a.FormBuilder),t.GI1(g.mi),t.GI1(l.gV),t.GI1(k.HttpClient))};static#e=this.\u0275cmp=t.In1({type:i,selectors:[["app-embed"]],decls:21,vars:10,consts:[[1,"py-4"],[2,"margin","auto"],["pTemplate","header"],["class","p-card-title",4,"ngIf"],[3,"formGroup","submit"],[1,"table","table-sm","table-striped"],[4,"ngIf"],["id","name","pInputText","","formControlName","CUST_MIDDLE_INIT_X",1,"w-100"],[1,"mb-0","text-end"],["pButton","","type","submit",3,"disabled"],[2,"height","6px"],["mode","indeterminate",3,"style",4,"ngIf"],["mode","indeterminate"],[1,"p-card-title"]],template:function(n,s){1&n&&(t.I0R(0,"div",0)(1,"div",1),t.yuY(2,et,3,3,"ng-template",2)(3,nt,4,2,"div",3),t.wVc(4,"async"),t.I0R(5,"form",4),t.qCj("submit",function(){return s.submit()}),t.I0R(6,"table",5)(7,"tbody"),t.yuY(8,it,5,1,"tr",6)(9,st,5,1,"tr",6),t.I0R(10,"tr")(11,"td"),t.OEk(12,"Middle Initial"),t.C$Y(),t.I0R(13,"td"),t.wR5(14,"input",7),t.C$Y()(),t.yuY(15,ot,5,1,"tr",6),t.C$Y()(),t.I0R(16,"div",8)(17,"button",9),t.wVc(18,"async"),t.OEk(19," Update User "),t.C$Y()()()()(),t.wR5(20,"p-toast")),2&n&&(t.yG2(3),t.E7m("ngIf",t.kDX(4,6,s.routeParams$)),t.yG2(2),t.E7m("formGroup",s.form),t.yG2(3),t.E7m("ngIf",s.form.value.CUST_FIRST_NAME_X),t.yG2(),t.E7m("ngIf",s.form.value.CUST_LAST_NAME_X),t.yG2(6),t.E7m("ngIf",s.form.value.OTHER_NAMES_USED_X),t.yG2(2),t.E7m("disabled",t.kDX(18,8,s.loading$)))},dependencies:[d.u_,a.\u0275NgNoValidate,a.DefaultValueAccessor,a.NgControlStatus,a.NgControlStatusGroup,a.FormGroupDirective,a.FormControlName,g.U3,I.C,m.ButtonDirective,E.Toast,S.c,d.a],styles:[".p-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:.5rem}"]})}return i})();const at=[{path:"embed/:branchId/:userId",component:R,data:{title:"Sandbox"}},{path:"embed",component:R,data:{title:"Sandbox"}},{path:":branchId/:userId",component:b,data:{title:"Sandbox"}},{path:"",component:b,data:{title:"Sandbox"}}];let rt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.a4G({type:i,bootstrap:[b]});static#n=this.\u0275inj=t.s3X({providers:[(0,_.wx)(),g.mi],imports:[d.MD,l.qQ.forChild(at),r.u,a.ReactiveFormsModule,u.CardModule,I.s,V.z,X,N,F,m.ButtonModule,y.StateManagementModule,E.ToastModule,L,S.W]})}return i})()},2736:(x,h,o)=>{o.d(h,{C:()=>a,s:()=>_});var r=o(4496),y=o(1368),d=o(4716);let a=(()=>{class l{el;ngModel;cd;filled;constructor(m,u,t){this.el=m,this.ngModel=u,this.cd=t}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(u){return new(u||l)(r.GI1(r.GMv),r.GI1(d.NgModel,8),r.GI1(r.kD9))};static \u0275dir=r.Sc5({type:l,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(u,t){1&u&&r.qCj("input",function(C){return t.onInput(C)}),2&u&&r.eAK("p-filled",t.filled)}})}return l})(),_=(()=>{class l{static \u0275fac=function(u){return new(u||l)};static \u0275mod=r.a4G({type:l});static \u0275inj=r.s3X({imports:[y.MD]})}return l})()},9188:(x,h,o)=>{o.d(h,{Q:()=>a,z:()=>_});var r=o(4496),y=o(1368),d=o(4716);let a=(()=>{class l{el;ngModel;control;cd;autoResize;onResize=new r._w7;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(m,u,t,v){this.el=m,this.ngModel=u,this.control=t,this.cd=v}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(m){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(m){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(m||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(u){return new(u||l)(r.GI1(r.GMv),r.GI1(d.NgModel,8),r.GI1(d.NgControl,8),r.GI1(r.kD9))};static \u0275dir=r.Sc5({type:l,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(u,t){1&u&&r.qCj("input",function(C){return t.onInput(C)}),2&u&&r.eAK("p-filled",t.filled)("p-inputtextarea-resizable",t.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return l})(),_=(()=>{class l{static \u0275fac=function(u){return new(u||l)};static \u0275mod=r.a4G({type:l});static \u0275inj=r.s3X({imports:[y.MD]})}return l})()}}]);